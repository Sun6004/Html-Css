<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<link rel="stylesheet" href="../css/MyStyle.css">
<script src="../js/jquery-3.6.4.min.js" type="text/javascript"></script>
<script>
    $(function(){
        $('#buyer').on('click', function(){

        	// 단축메뉴
        	//         	$.getJSON(
//   					'http://localhost/jqPro/0327/BuyerNamesController.jsp',
//   					function(res) {
						
// 					}
//         		)
        		
            $.ajax({
                url : 'http://localhost/jqPro/0327/BuyerNamesController.jsp',
                type : 'get',
                success : function(res){
					code = "";
					$.each(res, function(i, v){
						code += `<p id="${v.id}">${v.name}</p>`
					})
					$('#names')
                },
                error : function(xhr){
                    alert("상태: " + xhr.status + "\n code" + xhr.statusText);
                },
                dataType : 'json'
            })
        })

        $('#r1').on('click','p', function(){
            idvalue = $(this).attr('id');

            $.ajax({
                url : 'http://localhost/jqPro/0327/BuyerNamesController.jsp',
                type : 'get',
                data: "id=" +idvalue,
                success: function(xhr){
                    
                },
                error: function(xhr){

                },
                dataType: 'json'
            })
        })
    })
</script>
<style type="text/css">
	#r1 p:hover{
		background: lime;
	}
</style>
</head>
<body>

<div class="box">
<p></p>

<input type="button" value="buyerList" id="buyer">
<br>
<br>
<div class="result" id="r1">
	<table border="1" class="table table-dark table-striped">
		<tr>
			<th>거래처이름</th>
			<th>거래처상세정보</th>
		</tr>
		
		<tr>
			<td id="names"></td>
			<td id="details"></td>
		</tr>
		
	</table>
</div>
</div>
</body>
</html>